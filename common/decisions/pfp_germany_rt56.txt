pfp_puppet_management = {
	pfp_germany_styria = {
		visible = {
			has_country_flag = pfp_puppet_management_view
            has_country_flag = pfp_puppet_selected
			has_country_flag = pfp_puppet_management_options_territory
			var:FROM.pfp_puppet_selection = { original_tag = P13 }
			has_global_flag = pfp_germany_flag
			has_full_control_of_state = 1054 #Styria

			1054 = { #Styria
				NOT = { is_core_of = FROM }
			}

			P13 = { #PFP Germany
				OR = {
					is_puppet_of = FROM
					is_in_faction_with = FROM
				}
			}
			NOT = { has_global_flag = pfp_germany_styria_flag }
		}
		highlight_states = {
			highlight_state_targets = { state = 1054 } #Styria
		}
		complete_effect = {
			custom_effect_tooltip = pfp_germany_coring_states_styria
			custom_effect_tooltip = pfp_germany_transfer_states_styria
			hidden_effect = {
				#Styria
				1054 = { add_core_of = P13 }
				P13 = { transfer_state = 1054 }
				set_global_flag = pfp_germany_styria_flag
			}
		}
		ai_will_do = { factor = 0 }
	}
	pfp_germany_litorale = {
		visible = {
			has_country_flag = pfp_puppet_management_view
            has_country_flag = pfp_puppet_selected
			has_country_flag = pfp_puppet_management_options_territory
			var:FROM.pfp_puppet_selection = { original_tag = P13 }
			has_global_flag = pfp_germany_flag
			has_full_control_of_state = 736 #Litorale

			736 = { #Litorale
				NOT = { is_core_of = FROM }
			}

			P13 = { #PFP Germany
				OR = {
					is_puppet_of = FROM
					is_in_faction_with = FROM
				}
			}
			NOT = { has_global_flag = pfp_germany_litorale_flag }
		}
		highlight_states = {
			highlight_state_targets = { state = 736 } #Litorale
		}
		complete_effect = {
			custom_effect_tooltip = pfp_germany_coring_states_litorale
			custom_effect_tooltip = pfp_germany_transfer_states_litorale
			hidden_effect = {
				#Litorale
				736 = { add_core_of = P13 }
				P13 = { transfer_state = 736 }
				set_global_flag = pfp_germany_litorale_flag
			}
		}
		ai_will_do = { factor = 0 }
	}
	pfp_germany_eupen_malmedy = {
		visible = {
			has_country_flag = pfp_puppet_management_view
            has_country_flag = pfp_puppet_selected
			has_country_flag = pfp_puppet_management_options_territory
			var:FROM.pfp_puppet_selection = { original_tag = P13 }
			has_global_flag = pfp_germany_flag
			has_full_control_of_state = 965 #Eupen-Malmedy

			965 = { #Eupen-Malmedy
				NOT = { is_core_of = FROM }
			}

			P13 = { #PFP Germany
				OR = {
					is_puppet_of = FROM
					is_in_faction_with = FROM
				}
			}
			NOT = { has_global_flag = pfp_germany_eupen_malmedy_flag }
		}
		highlight_states = {
			highlight_state_targets = { state = 965 } #Eupen-Malmedy
		}
		complete_effect = {
			custom_effect_tooltip = pfp_germany_coring_states_eupen_malmedy
			custom_effect_tooltip = pfp_germany_transfer_states_eupen_malmedy
			hidden_effect = {
				#Eupen-Malmedy
				965 = { add_core_of = P13 }
				P13 = { transfer_state = 965 }
				set_global_flag = pfp_germany_eupen_malmedy_flag
			}
		}
		ai_will_do = { factor = 0 }
	}
	pfp_germany_northern_schleswig = {
		visible = {
			has_country_flag = pfp_puppet_management_view
            has_country_flag = pfp_puppet_selected
			has_country_flag = pfp_puppet_management_options_territory
			var:FROM.pfp_puppet_selection = { original_tag = P13 }
			has_global_flag = pfp_germany_flag
			has_full_control_of_state = 964 #Northern Schleswig

			964 = { #Northern Schleswig
				NOT = { is_core_of = FROM }
			}

			P13 = { #PFP Germany
				OR = {
					is_puppet_of = FROM
					is_in_faction_with = FROM
				}
			}
			NOT = { has_global_flag = pfp_germany_northern_schleswig_flag }
		}
		highlight_states = {
			highlight_state_targets = { state = 964 } #Northern Schleswig
		}
		complete_effect = {
			custom_effect_tooltip = pfp_germany_coring_states_northern_schleswig
			custom_effect_tooltip = pfp_germany_transfer_states_northern_schleswig
			hidden_effect = {
				#Northern Schleswig
				964 = { add_core_of = P13 }
				P13 = { transfer_state = 964 }
				set_global_flag = pfp_germany_northern_schleswig_flag
			}
		}
		ai_will_do = { factor = 0 }
	}
	pfp_germany_schleswig = {
		visible = {
			has_country_flag = pfp_puppet_management_view
            has_country_flag = pfp_puppet_selected
			has_country_flag = pfp_puppet_management_options_territory
			var:FROM.pfp_puppet_selection = { original_tag = P13 }
			has_global_flag = pfp_germany_flag
			has_full_control_of_state = 998 #Schleswig

			998 = { #Schleswig
				NOT = { is_core_of = FROM }
			}

			P13 = { #PFP Germany
				OR = {
					is_puppet_of = FROM
					is_in_faction_with = FROM
				}
			}
			NOT = { has_global_flag = pfp_germany_schleswig_flag }
		}
		highlight_states = {
			highlight_state_targets = { state = 998 } #Schleswig
		}
		complete_effect = {
			custom_effect_tooltip = pfp_germany_coring_states_schleswig
			custom_effect_tooltip = pfp_germany_transfer_states_schleswig
			hidden_effect = {
				#Schleswig
				998 = { add_core_of = P13 }
				P13 = { transfer_state = 998 }
				set_global_flag = pfp_germany_schleswig_flag
			}
		}
		ai_will_do = { factor = 0 }
	}
}